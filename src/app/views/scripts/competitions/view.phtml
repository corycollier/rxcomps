<?php
/**
 * view view script
 *
 * This view script is for viewing a single competition record
 *
 * @category    RxCompetition
 * @package     App
 * @subpackage  View_Scripts
 * @copyright   Copyright (c) 2012 RxCompetition.com, Inc (http://www.RxCompetition.com)
 * @license     All Rights Reserved
 * @version     Release: 1.0.0
 * @since       File available since release 1.0.0
 */
?>

<?php $event = $this->model->getParent('Event'); ?>
<?php echo $this->htmlList(array(
    $this->htmlAnchor(sprintf('Back to %s', $event->getValue('name')), array(
        'controller'    => 'events',
        'action'        => 'view',
        'id'            => $event->id,
    )),
    $this->htmlAnchor('Enter Scores', array(
        'controller'    => 'scores',
        'action'        => 'create',
        'event_id'      => $this->model->getParent('Event')->id,
        'competition_id'=> $this->model->id,
    ))
), false, array(
    'class' => 'actions',
), false); ?>

<h2><?php echo $this->model->getValue('name'); ?></h2>
<p><?php echo $this->model->getValue('description'); ?></p>
<p></p>



<table>
    <tr>
        <th>Score</th>
        <th>Athlete</th>
        <th>Actions</th>
    </tr>
<?php foreach ($this->model->getChildren('Score') as $score) : ?>
    <tr>
        <td><?php echo $score->getValue('score'); ?></td>
        <td><?php echo $score->getParent('Athlete')->getValue('name'); ?></td>
        <td></td>
    </tr>
<?php endforeach; ?>
</table>