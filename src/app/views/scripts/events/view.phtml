<?php
/**
 * view view script
 *
 * This view script is for viewing a single event record
 *
 * @category    RxCompetition
 * @package     App
 * @subpackage  View_Scripts
 * @copyright   Copyright (c) 2012 RxCompetition.com, Inc (http://www.RxCompetition.com)
 * @license     All Rights Reserved
 * @version     Release: 1.0.0
 * @since       File available since release 1.0.0
 */
?>

<h2><?php echo $this->model->getValue('name'); ?></h2>

<p><?php echo $this->model->getValue('description'); ?></p>

<p><?php echo $this->htmlAnchor('Athletes', array(
    'controller'    => 'athletes',
    'action'        => 'list',
    'event_id'      => $this->model->id,
)); ?></p>

<ul>
    <?php foreach ($this->model->getChildren('Scale') as $scale) : ?>

        <li><?php echo $this->htmlAnchor($scale->getValue('name'), array(
            'module'    => 'default',
            'controller'=> 'scale',
            'action'    => 'view',
            'id'        => $scale->getValue('id'),
        )); ?></li>

    <?php endforeach; ?>
</ul>
<?php echo $this->htmlAnchor('Enter Scales', array(
    'controller'    => 'scales',
    'action'        => 'create',
    'event_id'     => $this->model->id,
)); ?>

<?php echo $this->htmlAnchor('Enter Competitions', array(
    'controller'    => 'competitions',
    'action'        => 'create',
    'event_id'     => $this->model->id,
)); ?>


<ol>
    <?php foreach ($this->model->getChildren('Competition') as $competition) : ?>

        <li><?php echo $this->htmlAnchor($competition->getValue('name'), array(
            'module'    => 'default',
            'controller'=> 'competitions',
            'action'    => 'view',
            'id'        => $competition->getValue('id'),
        )); ?></li>

    <?php endforeach; ?>
</ol>
